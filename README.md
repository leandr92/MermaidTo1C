# Mermaid.js —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è 1–°

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä—É–µ—Ç Mermaid.js –≤–µ—Ä—Å–∏–∏ 11.12.2 –≤ ES5-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å—Ç–∞—Ä–æ–º WebKit –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã 1–°.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

Mermaid.js - —ç—Ç–æ –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∞–≥—Ä–∞–º–º –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å –ø–æ–º–æ—â—å—é —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞. –û–¥–Ω–∞–∫–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Mermaid –∏—Å–ø–æ–ª—å–∑—É—é—Ç ES6+ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö, –≤–∫–ª—é—á–∞—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π WebKit –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã 1–°.

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É, —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä—É—è Mermaid.js –≤ ES5 –∏ —É–ø–∞–∫–æ–≤—ã–≤–∞—è –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª, –≥–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ 1–°.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js

–ï—Å–ª–∏ —É –≤–∞—Å –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Node.js:
1. –°–∫–∞—á–∞–π—Ç–µ Node.js —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞: https://nodejs.org/
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é LTS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É, –æ—Ç–∫—Ä—ã–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏–≤:
   ```bash
   node --version
   npm --version
   ```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
npm install
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏–∏.

### –®–∞–≥ 3: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å–±–æ—Ä–∫–∏:

```bash
npm run build
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ –≤ –ø–∞–ø–∫–µ `dist/` –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `mermaid_all_in_one.js` - —ç—Ç–æ –≥–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –ø–æ–ª–∏—Ñ–∏–ª–ª–∞–º–∏.

**–í–∞–∂–Ω–æ**: –î–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞:
```bash
cp dist/mermaid_all_in_one.js dist/mermaid_all_in_one_v11.12.2.js
```

### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ HTML

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `dist/mermaid_all_in_one_v11.12.2.js` (–∏–ª–∏ `mermaid_all_in_one.js`) –≤ –Ω—É–∂–Ω—É—é –ø–∞–ø–∫—É –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `–ü—Ä–æ—Å–º–æ—Ç—Ä Mermaid —Å—Ö–µ–º all in one.html` –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. –û—Ç–∫—Ä–æ–π—Ç–µ HTML —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ 1–°

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í –ø—Ä–∏–º–µ—Ä–µ HTML —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `mermaid_all_in_one_v11.12.2.js` –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
MermaidTo1C/
‚îú‚îÄ‚îÄ src/                          # –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.js                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏ (–∏–º–ø–æ—Ä—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Mermaid + ELK)
‚îÇ   ‚îî‚îÄ‚îÄ polyfills.js             # –ò–º–ø–æ—Ä—Ç –ø–æ–ª–∏—Ñ–∏–ª–ª–æ–≤ (core-js, regenerator-runtime)
‚îú‚îÄ‚îÄ dist/                         # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ mermaid_all_in_one.js    # –û—Å–Ω–æ–≤–Ω–æ–π —Å–æ–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
‚îÇ   ‚îî‚îÄ‚îÄ mermaid_all_in_one_v11.12.2.js  # –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª (–¥–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞)
‚îú‚îÄ‚îÄ –ü—Ä–æ—Å–º–æ—Ç—Ä Mermaid —Å—Ö–µ–º all in one.html  # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ HTML
‚îú‚îÄ‚îÄ rollup.config.js             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä—â–∏–∫–∞ Rollup
‚îú‚îÄ‚îÄ .babelrc                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏–∏ Babel (ES5 –¥–ª—è IE 11)
‚îú‚îÄ‚îÄ .gitignore                   # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è Git
‚îú‚îÄ‚îÄ package.json                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md                     # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü–∞–ø–∫–∞ `dist/` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–µ. –§–∞–π–ª—ã –≤ –Ω–µ–π –º–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–±–æ—Ä–∫–∏.

## üîß –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `npm install` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
- `npm run build` - —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–æ–∑–¥–∞–µ—Ç `dist/mermaid_all_in_one.js`)
- `npm run build:watch` - —Å–±–æ—Ä–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö)

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ HTML

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Mermaid –î–∏–∞–≥—Ä–∞–º–º—ã</title>
</head>
<body>
    <!-- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø–æ–ª–∏—Ñ–∏–ª–ª—ã - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –î–û –∑–∞–≥—Ä—É–∑–∫–∏ mermaid -->
    <script>
        // –ü–æ–ª–∏—Ñ–∏–ª–ª –¥–ª—è Object.hasOwn (ES2022)
        if (typeof Object.hasOwn === 'undefined') {
            Object.hasOwn = function(obj, prop) {
                return Object.prototype.hasOwnProperty.call(obj, prop);
            };
        }
        
        // –ü–æ–ª–∏—Ñ–∏–ª–ª –¥–ª—è Array.prototype.at() (ES2022)
        if (!Array.prototype.at) {
            Array.prototype.at = function(index) {
                var len = this.length;
                var relativeIndex = index >= 0 ? index : len + index;
                if (relativeIndex < 0 || relativeIndex >= len) {
                    return undefined;
                }
                return this[relativeIndex];
            };
        }
        
        // –ü–æ–ª–∏—Ñ–∏–ª–ª –¥–ª—è SVGElement.getBBox() (–¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤)
        // ... (—Å–º. –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –≤ –ü—Ä–æ—Å–º–æ—Ç—Ä Mermaid —Å—Ö–µ–º all in one.html)
    </script>
    
    <!-- –î–∏–∞–≥—Ä–∞–º–º–∞ -->
    <pre class="mermaid">
graph TD
    A[–ù–∞—á–∞–ª–æ] --> B[–ü—Ä–æ—Ü–µ—Å—Å]
    B --> C[–ö–æ–Ω–µ—Ü]
    </pre>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Mermaid -->
    <script src="dist/mermaid_all_in_one_v11.12.2.js"></script>
    
    <script>
        // Mermaid –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –∫–ª–∞—Å—Å–æ–º .mermaid
        // –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é:
        if (window.mermaid && window.mermaid.run) {
            window.mermaid.run();
        }
    </script>
</body>
</html>
```

**–í–∞–∂–Ω–æ**: –ü–æ–ª–∏—Ñ–∏–ª–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω—ã –î–û –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ Mermaid. –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–æ–ª–∏—Ñ–∏–ª–ª–∞–º–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ `–ü—Ä–æ—Å–º–æ—Ç—Ä Mermaid —Å—Ö–µ–º all in one.html`.

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–∏–∞–≥—Ä–∞–º–º

- **Flowchart (–≥—Ä–∞—Ñ)**: `graph TD` –∏–ª–∏ `graph LR`
  - **–° –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–µ–ª–∫–∞–º–∏**: `flowchart-elk TD` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç ELK –¥–ª—è orthogonal connectors)
- **Sequence Diagram**: `sequenceDiagram`
- **Gantt Chart**: `gantt`
- **Class Diagram**: `classDiagram`
- **State Diagram**: `stateDiagram-v2`
- –ò –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ Mermaid 11.12.2

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: ELK –≤—Å—Ç—Ä–æ–µ–Ω –≤ –±–∞–Ω–¥–ª, –ø–æ—ç—Ç–æ–º—É –¥–∏–∞–≥—Ä–∞–º–º—ã —Å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–º–∏ —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π.

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –¢—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è

- **–¶–µ–ª–µ–≤–∞—è –≤–µ—Ä—Å–∏—è**: ES5 (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å IE 11 –∏ —Å—Ç–∞—Ä—ã–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞–º–∏)
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: Rollup + Babel
- **–ü–æ–ª–∏—Ñ–∏–ª–ª—ã**: –í–∫–ª—é—á–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è:
  - `Object.hasOwn` (ES2022)
  - `Array.prototype.at()` (ES2022)
  - `SVGElement.getBBox()` (–¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤)
  - `Object.assign`, `Array.from`, `Array.includes`, `String.includes`
  - `structuredClone`
- **ELK (Eclipse Layout Kernel)**: –í—Å—Ç—Ä–æ–µ–Ω –≤ –±–∞–Ω–¥–ª –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞

–°–æ–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `mermaid_all_in_one.js` –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä –ø—Ä–∏–º–µ—Ä–Ω–æ 8.2 –ú–ë (–Ω–µ—Å–∂–∞—Ç—ã–π). –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –≤–∫–ª—é—á–∞–µ—Ç:
- Mermaid.js 11.12.2
- ELK (Eclipse Layout Kernel) –¥–ª—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (D3, dagre, cytoscape, elkjs –∏ –¥—Ä.)
- –ü–æ–ª–∏—Ñ–∏–ª–ª—ã –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

### ELK (Eclipse Layout Kernel)

ELK –≤—Å—Ç—Ä–æ–µ–Ω –≤ –±–∞–Ω–¥–ª –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π (orthogonal connectors) –≤ flowchart-–¥–∏–∞–≥—Ä–∞–º–º–∞—Ö. –í Mermaid v11 ELK –±—ã–ª –≤—ã–Ω–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç `@mermaid-js/layout-elk` –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –Ω–æ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ (WebKit 1–°) –æ–Ω –≤—Å—Ç—Ä–æ–µ–Ω –≤ –±–∞–Ω–¥–ª.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ELK:**
- –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ELK –≤ –¥–∏–∞–≥—Ä–∞–º–º–µ, —É–∫–∞–∂–∏—Ç–µ `flowchart-elk` –≤–º–µ—Å—Ç–æ `flowchart` –∏–ª–∏ `graph`
- –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `defaultRenderer: 'elk'` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Mermaid
- –ü—Ä–∏–º–µ—Ä: `flowchart-elk TD` –∏–ª–∏ `graph TD` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π `flowchart: { defaultRenderer: 'elk' }`

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `mermaid_all_in_one_v11.12.2.js`) –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

2. **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ HTML —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8 –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∏ –¥—Ä—É–≥–∏—Ö Unicode —Å–∏–º–≤–æ–ª–æ–≤.

3. **–ü–æ–ª–∏—Ñ–∏–ª–ª—ã**: –ü–æ–ª–∏—Ñ–∏–ª–ª—ã **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã** –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω—ã –î–û –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞ Mermaid. –í –ø—Ä–∏–º–µ—Ä–µ HTML —Ñ–∞–π–ª–∞ –æ–Ω–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞.

4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Å—Ç–∞—Ä–æ–º WebKit –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã 1–°. –¢–∞–∫–∂–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ IE 11 –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö.

5. **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: –°–æ–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–º–µ–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–∫–æ–ª–æ 8.2 –ú–ë (–Ω–µ—Å–∂–∞—Ç—ã–π). –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É Mermaid, ELK –¥–ª—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π –∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –î–∏–∞–≥—Ä–∞–º–º—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12 –∏–ª–∏ –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Inspect ‚Üí Console) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `mermaid_all_in_one_v11.12.2.js` –∑–∞–≥—Ä—É–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Network –≤ DevTools)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç –∫–ª–∞—Å—Å `.mermaid`
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–∏–∞–≥—Ä–∞–º–º—ã –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω (–º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ https://mermaid.live/)
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª–∏—Ñ–∏–ª–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –î–û –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

### –û—à–∏–±–∫–∞ "Object.hasOwn is not a function"

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–∏—Ñ–∏–ª–ª –¥–ª—è `Object.hasOwn` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –î–û –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ Mermaid. –ü–æ–ª–∏—Ñ–∏–ª–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `<script>` —Ç–µ–≥–µ –ø–µ—Ä–µ–¥ `<script src="dist/mermaid_all_in_one_v11.12.2.js"></script>`.

### –û—à–∏–±–∫–∞ "getBBox is not a function"

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª–∏—Ñ–∏–ª–ª –¥–ª—è `SVGElement.getBBox()` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–Ω –≤–∫–ª—é—á–µ–Ω –≤ HTML —Ñ–∞–π–ª –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞. –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ `–ü—Ä–æ—Å–º–æ—Ç—Ä Mermaid —Å—Ö–µ–º all in one.html`.

### –û—à–∏–±–∫–∞ "Array.prototype.at is not a function"

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–∏—Ñ–∏–ª–ª –¥–ª—è `Array.prototype.at()` –∑–∞–≥—Ä—É–∂–µ–Ω. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Mermaid 11.x –∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö.

### –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø–æ–ª–∏—Ñ–∏–ª–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–∏–∞–≥—Ä–∞–º–º—ã –Ω–∞ https://mermaid.live/
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete –∏–ª–∏ Cmd+Shift+Delete)

## üìù –ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–≥—Ä–∞–º–º

### Flowchart (–ì—Ä–∞—Ñ)

```mermaid
graph TD
    A[–ù–∞—á–∞–ª–æ] --> B{–£—Å–ª–æ–≤–∏–µ}
    B -->|–î–∞| C[–î–µ–π—Å—Ç–≤–∏–µ 1]
    B -->|–ù–µ—Ç| D[–î–µ–π—Å—Ç–≤–∏–µ 2]
    C --> E[–ö–æ–Ω–µ—Ü]
    D --> E
```

### Sequence Diagram (–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

```mermaid
sequenceDiagram
    participant A as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant B as –°–µ—Ä–≤–µ—Ä
    A->>B: –ó–∞–ø—Ä–æ—Å
    B-->>A: –û—Ç–≤–µ—Ç
```

### –î—Ä—É–≥–∏–µ —Ç–∏–ø—ã

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Ç–∏–ø—ã –¥–∏–∞–≥—Ä–∞–º–º, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ Mermaid 11.12.2. –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ Mermaid](https://mermaid.js.org/intro/).

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [Mermaid.js](https://mermaid.js.org/) - –∑–∞ –æ—Ç–ª–∏—á–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∞–≥—Ä–∞–º–º
- [Rollup](https://rollupjs.org/) - –∑–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏
- [Babel](https://babeljs.io/) - –∑–∞ —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—é –∫–æ–¥–∞

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º" –≤—ã—à–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–ª–µ–¥—É–µ—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø–æ–ª–∏—Ñ–∏–ª–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
